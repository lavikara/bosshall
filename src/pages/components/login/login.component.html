<div class="login">

    <form (ngSubmit)="login()" (submit)="$event.preventDefault()" [formGroup]="loginForm">
        <div class="field">
            <div class="control has-icons-right">
                <input class="input" formControlName="email" id="email" type="email"
                       placeholder="email@example.com" required>
                <span class="icon is-right">
                    <svg class="svg-icon">
                        <use xlink:href="#account"></use>
                    </svg>
                </span>
            </div>
        </div>

        <div class="field">
            <div class="control has-icons-right">
                <input class="input" formControlName="password" id="password"
                       placeholder="***********" type="password" [disabled]="disablePasswordField"
                       required>
                <span class="icon is-right">
                    <svg class="svg-icon">
                        <use xlink:href="#key"></use>
                    </svg>
                </span>
            </div>
        </div>
        <div class="forgot-password">
            <a [routerLink]="['/SendCode']">Forgot Password</a>
        </div>

        <div style="margin: auto; width: fit-content;">
            <ngx-recaptcha2 #captchaElem (expire)="handleExpire()" (load)="handleLoad()"
                            (reset)="handleReset()" (success)="handleSuccess($event)" [hl]="'en'"
                            [siteKey]="captchaKey" [size]="'Normal'" [theme]="'Light'"
                            [type]="'Image'" [useGlobalDomain]="false" formControlName="recaptcha">
            </ngx-recaptcha2>
        </div>

        <br>
        <div *ngIf="!loggedIn" class="field">
            <div class="control">
                <button [disabled]="!loginForm.valid" class="button is-link btn1"
                        type="submit">{{buttonText}}</button>
            </div>
        </div>
        <div *ngIf="loggedIn" class="field">
            <div class="control">
                <button class="button is-link btn1" type="button" (click)="signOut()">
                    Sign Out!</button>
            </div>
        </div>

        <br>
        <div class="field">
            <div class="control">
                <button class="button is-link btn2" type="button" (click)="signInWithFacebook()"
                        [disabled]="loggedIn">
                    <svg class="svg-icon">
                        <use xlink:href="#facebook"></use>
                    </svg>
                    <span>Continue with Facebook</span>
                </button>
            </div>
        </div>
        <div class="field">
            <div class="control">
                <button class="button is-link btn3" type="button" (click)="signInWithGoogle()"
                        [disabled]="loggedIn">
                    <img src="/assets/img/google-color.svg" alt="">
                    <span>Continue with Google</span>
                </button>
            </div>
        </div>
    </form>

</div>
